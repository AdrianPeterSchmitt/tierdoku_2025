#!/bin/sh
# Pre-push hook: Run tests before pushing to GitHub

echo "Running QA tests before push..."

# Change to project directory
cd "$(git rev-parse --show-toplevel)"

# Run QA pipeline
if [ -f "./run-tests.ps1" ]; then
    powershell.exe -File "./run-tests.ps1"
elif [ -f "./run-tests.sh" ]; then
    ./run-tests.sh
fi

if [ $? -ne 0 ]; then
    echo "❌ Tests failed! Push aborted."
    exit 1
fi

echo "✅ All tests passed! Proceeding with push..."
exit 0


